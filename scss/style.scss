/// Map-related styles
/// -------------------
///
/// You can skip this in your own implementation.
///
/// @author Manuel Tancoigne
/// @license MIT

// Reset
@import "reset.scss";

@import "demo.scss";

/*
  VARIABLES
*/
/// Number of rooms to be generated. 50 is great...
/// @type Integer
$nb-rooms:50;

/// Prefix for classes
/// @type string
$prefix:'map-';

/// Cell size
/// @type length
$cell-size:7px;

// Some colors, for cells backgrounds
$playerColor: #44FC44; // Not used for now
$ennemyColor: #FC8888; // Not used for now
$bossColor:   #F00;    // Not used for now
$chestColor:  #8888FC; // Not used for now
$floorColor:  #c1ac53;
$wallColor:   #CCC;


/*
  CLASSES
*/
/// Map row
.#{$prefix}row{
  display: table-row;
}

/* Cell */

// Map cell
.#{$prefix}cell{
  display: table-cell;
  width: $cell-size;
  border:none;
}
// Maintains the cell square
.#{$prefix}cell:after{
  content: "";
  display: block;
  padding-bottom: 100%;
  border:none;
}

/* Specific cells */

// Walls
.#{$prefix}cell-wall{
  background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAcAAAAHCAYAAADEUlfTAAAAMElEQVQIW2NkwA18GHHI+TAwMGzBJgmWAGlCl4RLoEvCJDB0ouhgYGCA24kuAXcjAJOJCFSmjFfLAAAAAElFTkSuQmCC);
  background-size: 100% auto;
  background-color: $wallColor;
}

// Floor
.#{$prefix}cell-floor{
  background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAcAAAAHCAYAAADEUlfTAAAAL0lEQVQIW2NkgAAfKI1CMUIltlBNUpKBgeE5yFhsAC4JcgzITpAAMgDrhElimAAA2UEIVBhnGn4AAAAASUVORK5CYII=);
  background-size: 100% auto;
  background-color: $floorColor;
}

// Enemy
.#{$prefix}cell-enemy{
  background-color: $ennemyColor;
}

// Item
.#{$prefix}cell-item{
  background-color: $chestColor;
}

// Boss
.#{$prefix}cell-boss{
  background-color: $bossColor;
}

/* Rooms */

// Generating x rooms with random bg.
@for $i from 0 through $nb-rooms{
  // Random starting at 100 to avoid dark bgs
  $red:random(155)+100;
  $green:random(155)+100;
  $blue:random(155)+100;
  .#{$prefix}room-#{$i}{
    background-color: rgb($red, $green, $blue);
  }

  // Overlays styles. Remove them if you don't use them.
  .#{$prefix}room-#{$i}-overlay{
    $color:rgb($red, $green, $blue);
    background-color: rgba($red, $green, $blue, 0.5);
    color: darken($color, 20%);
    border:1px solid darken($color, 20%);;
  }
}

// Overlays. The #room is defined in _demo.scss as not really part of this...
.#{$prefix}room, ##{$prefix}pathes{
  position:absolute;
  text-shadow:
    -1px -1px 0 #FFF,
    1px -1px 0 #FFF,
    -1px 1px 0 #FFF,
    1px 1px 0 #FFF;
  h2{
    font-size:1.5em;
    font-weight:bold;
  }
}
